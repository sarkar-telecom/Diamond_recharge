<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diamond Recharge - SARKAR TELECOM</title>

<!-- Favicon -->
<link rel="icon" type="image/png" href="images/favicon.png">

<style>
  /* ===== Reset & Body ===== */
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: Arial, sans-serif; background:#0f1824; color:#fff; display:flex; flex-direction:column; min-height:100vh; }

  /* ===== Header ===== */
  header {
    position: fixed;
    top:0; left:0; width:100%;
    height:60px;
    background:#1b2735;
    display:flex; justify-content:space-between; align-items:center;
    padding:0 15px; z-index:1000;
  }
  .menu-toggle { font-size:24px; cursor:pointer; background:none; border:none; color:#fff; }
  .site-title { font-weight:bold; font-size:18px; text-align:center; flex:1; }
  .profile { position:relative; display:flex; align-items:center; cursor:pointer; }
  .profile img { width:40px; height:40px; border-radius:50%; object-fit:cover; margin-left:10px; }
  .dropdown { position:absolute; top:50px; right:0; background:#1c2431; border-radius:8px; display:none; flex-direction:column; min-width:160px; box-shadow:0 4px 6px rgba(0,0,0,0.2); z-index:1001; }
  .dropdown a { padding:10px; text-decoration:none; color:#fff; border-bottom:1px solid #2a3445; }
  .dropdown a:hover { background:#d62828; }

  /* ===== Layout Wrapper ===== */
  .wrapper { display:flex; flex:1; margin-top:60px; }

  /* ===== Sidebar ===== */
  .sidebar {
    position: fixed;
    top:60px;
    left:-250px;
    width:250px;
    height: calc(100vh - 60px);
    background:#1c2431;
    padding-top:20px;
    overflow-y:auto;
    transition:left 0.3s ease;
    z-index:999;
  }
  .sidebar.active { left:0; }
  .sidebar a { display:block; padding:12px 20px; text-decoration:none; color:#fff; border-bottom:1px solid #2a3445; font-size:14px; }
  .sidebar a:hover { background:#2f3c52; }
  .logout-btn { display:block; width:90%; margin:15px auto; padding:12px; background:#d62828; color:#fff; border:none; border-radius:8px; cursor:pointer; text-align:center; }
  .logout-btn:hover { background:#b91c1c; }

  /* User card */
  .user-card { background:#0f1115; border:1px solid #2b3347; border-radius:12px; padding:10px; margin:15px; text-align:center; display:flex; flex-direction:column; align-items:center; gap:6px; }
  .user-card img { width:70px; height:70px; border-radius:50%; border:3px solid #06b6d4; object-fit:cover; }
  .user-card h3 { font-size:16px; color:#06b6d4; margin:4px 0; }
  .user-card p { font-size:13px; color:#fff; margin:2px 0; }

  /* ===== Main Content ===== */
  main {
    flex:1;
    margin-left:0;
    padding:15px;
    min-height: calc(100vh - 60px - 120px); /* header + footer */
    transition: margin-left 0.3s ease;
  }
  main.shift { margin-left:250px; }

  /* ===== Footer ===== */
  footer {
    background:#1b2735;
    padding:20px 10px;
    display:flex;
    flex-wrap:wrap;
    justify-content:space-between;
    gap:10px;
  }
  .footer-section { display:flex; flex-direction:column; gap:6px; }
  .footer-section a { text-decoration:none; color:#fff; font-size:14px; transition:0.3s; }
  .footer-section a:hover { color:#06b6d4; }
  .footer-bottom { width:100%; text-align:center; font-size:13px; color:#aaa; margin-top:10px; }

  /* ===== Responsive ===== */
  @media(max-width:768px){
    main.shift { margin-left:0; }
    .sidebar { width:200px; }
    .sidebar.active { left:0; }
    footer { flex-direction:column; align-items:center; }
  }
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAyhjOsIXNAkBglpRllt0OZIOJYpdB_9-8",
  authDomain: "diamond-recharge-f7f59.firebaseapp.com",
  projectId: "diamond-recharge-f7f59",
  storageBucket: "diamond-recharge-f7f59.appspot.com",
  messagingSenderId: "657717928489",
  appId: "1:657717928489:web:70431ebc9afb7002d4b238",
  measurementId: "G-TDK78BQ8SQ"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// Sidebar toggle & dropdown
document.addEventListener("DOMContentLoaded", ()=>{
  const sidebar = document.getElementById("sidebar");
  const mainContent = document.querySelector("main");
  document.querySelector(".menu-toggle").addEventListener("click", ()=>{
    sidebar.classList.toggle("active");
    mainContent.classList.toggle("shift");
  });

  const profileMenu = document.getElementById("profileMenu");
  const dropdownMenu = document.getElementById("dropdownMenu");
  profileMenu.addEventListener("click", ()=> {
    dropdownMenu.style.display = dropdownMenu.style.display==="block"?"none":"block";
  });

  document.getElementById("logoutBtn").addEventListener("click", ()=>signOut(auth).then(()=>window.location.href="login.html"));
  document.getElementById("logoutBtn2").addEventListener("click", ()=>signOut(auth).then(()=>window.location.href="login.html"));
});

// Load user info
onAuthStateChanged(auth, async(user)=>{
  if(user){
    const snap = await getDoc(doc(db,"users",user.uid));
    const data = snap.exists() ? snap.data() : {};
    const avatar = data.avatar || user.photoURL || "https://via.placeholder.com/70";
    const name = data.name || user.displayName || "Guest User";
    const role = data.role || "User";
    const email = user.email || "";
    const phone = data.phone || "N/A";
    const balance = data.balance !== undefined ? data.balance : "0";

    document.getElementById("profilePic").src = avatar;

    const userBox = document.getElementById("userBox");
    userBox.innerHTML = `
      <img src="${avatar}" alt="Avatar">
      <h3>${name}</h3>
      <p>ğŸ“Œ Role: ${role}</p>
      <p>ğŸ“ ${phone}</p>
      <p>âœ‰ ${email}</p>
      <p>ğŸ’° Balance: ${balance}</p>
    `;
  } else {
    window.location.href="login.html";
  }
});
</script>
</head>
<body>

<header>
  <button class="menu-toggle">â˜°</button>
  <div class="site-title">SARKAR TELECOM</div>
  <div class="profile" id="profileMenu">
    <img id="profilePic" src="https://via.placeholder.com/40" alt="Profile">
    <div class="dropdown" id="dropdownMenu">
      <a href="profile.html">ğŸ‘¤ Profile</a>
      <a href="order.html">ğŸ›’ Order</a>
      <a href="#" id="logoutBtn">ğŸšª Logout</a>
    </div>
  </div>
</header>

<div class="wrapper">
  <div class="sidebar" id="sidebar">
    <a href="index.html">ğŸ  Home</a>
    <a href="dashboard.html">ğŸ“Š Dashboard</a>
    <a href="profile.html">ğŸ‘¤ Profile</a>
    <a href="order.html">â• Order</a>
    <a href="order-history.html">ğŸ“œ History</a>
    <a href="support.html">ğŸ’¬ Support</a>
    <a href="faq.html">â“ FAQ</a>
    <a href="about.html">â„¹ About Us</a>
    <a href="privacy.html">ğŸ”’ Privacy Policy</a>
    <a href="terms.html">ğŸ“„ Terms & Conditions</a>
    <a href="refund.html">ğŸ’ Refund Policy</a>
    <a href="sitemap.html">ğŸŒ Sitemap</a>
    <a href="admin.html">ğŸ›  Admin</a>
    <a href="login.html">ğŸ”‘ Login</a>
    <a href="register.html">ğŸ“ Register</a>
    <a href="forgot.html">â” Forgot Password</a>
    <a href="reset.html">â™» Reset Password</a>

    <button id="logoutBtn2" class="logout-btn">ğŸšª Logout</button>

    <div class="user-card" id="userBox">Loading user...</div>
  </div>

  <main>
    <h1>Welcome to Dashboard</h1>
    <p>à¦à¦–à¦¾à¦¨à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡ à¦•à¦¨à§à¦Ÿà§‡à¦¨à§à¦Ÿ à¦¦à§‡à¦–à¦¾à¦¨à§‹ à¦¹à¦¬à§‡à¥¤</p>
  </main>
</div>

<footer>
  <!-- Support Links -->
  <div class="footer-section">
    <strong>Support</strong>
    <a href="support.html">ğŸ’¬ Support</a>
    <a href="order.html">â• Order</a>
    <a href="order-history.html">ğŸ“œ History</a>
    <a href="faq.html">â“ FAQ</a>
  </div>

  <!-- Information Links -->
  <div class="footer-section">
    <strong>Information</strong>
    <a href="about.html">â„¹ About Us</a>
    <a href="privacy.html">ğŸ”’ Privacy Policy</a>
    <a href="terms.html">ğŸ“„ Terms & Conditions</a>
    <a href="refund.html">ğŸ’ Refund Policy</a>
    <a href="sitemap.html">ğŸŒ Sitemap</a>
  </div>

  <!-- Branding / Copyright -->
  <div class="footer-section footer-bottom">
    Â© SARKAR TELECOM - 2025 | Fast & Secure Mobile Recharge Service
  </div>
</footer>

</body>
</html>
